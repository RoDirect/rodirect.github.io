<script>
  (async()=>{
    const params=new URLSearchParams(window.location.search);
    const userId=params.get('userId')||params.get('uId');if(userId)return window.location=`roblox://userId=${userId}`;
    const placeId=params.get('placeId')||params.get('pId')||params.get('id');
    if(!placeId||!Number(placeId))return document.querySelector('html').innerHTML="placeId";
    const rbx='roblox://placeId='+placeId;
    const gameInstanceId=params.get('gameInstanceId')||params.get('gIId')||params.get('gII')||params.get('gId')||params.get('sId');
    const accessCode=params.get('accessCode');
    const linkCode=params.get('linkCode');
    const reservedServerAccessCode=params.get('reservedServerAccessCode');
    if(!(gameInstanceId||accessCode||linkCode||reservedServerAccessCode))return window.location=rbx;
    const launchData=params.get('launchData');
    const joinAttemptOrigin=params.get('joinAttemptOrigin');
    const callId=params.get('callId');
    const browserTrackerId=params.get('browserTrackerId');
    const referralPage=params.get('referralPage');
    const referredByPlayerId=params.get('referredByPlayerId');
    const args={
      gameInstanceId,accessCode,linkCode,reservedServerAccessCode,launchData,
      joinAttemptOrigin,callId,browserTrackerId,referralPage,referredByPlayerId
    };
    window.location=rbx+'&'+Object.entries(args).filter(v=>v[1]).map(v=>v.join('=')).join('&');
  })()
</script>
